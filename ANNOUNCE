The Wine maintenance release 6.0.4 is now available.

What's new in this release:
  - Various bug fixes

The source is available from the following locations:

  https://dl.winehq.org/wine/source/6.0/wine-6.0.4.tar.xz
  http://mirrors.ibiblio.org/wine/source/6.0/wine-6.0.4.tar.xz

Binary packages for various distributions will be available from:

  https://www.winehq.org/download

You will find documentation on https://www.winehq.org/documentation

You can also get the current source directly from the git
repository. Check https://www.winehq.org/git for details.

Wine is available thanks to the work of many people. See the file
AUTHORS in the distribution for the complete list.

----------------------------------------------------------------

Bugs fixed in 6.0.4 (total 42):

  12732  Nota Bene crashes on install
  26350  Dungeons demo (OGRE) fails to load its plugins (LoadLibraryEx with LOAD_WITH_ALTERED_SEARCH_PATH and relative path)
  32183  Cannot open console device read only, then read from it to get input
  39699  EDT for Windows installer crashes inside wine`s hhctrl.ocx
  41098  Descent 3 (GOG version) has problem when running with OpenGL renderer (Nvidia proprietary drivers)
  42030  winedbg: Internal crash at 0x9f58fd40
  44202  undname.c fails to parse symbols with rvalue-reference semantics '&&'
  47287  Accessible Event Watcher Tool 'accevent.exe' from Windows 10 SDK (10.0.17763.x) crashes on unimplemented function oleacc.dll.AccessibleObjectFromEvent
  48631  Multiple games display text as squares (Death to Spies: Moment of Truth, Shadow Warrior, Resident Evil 4 HD)
  48950  NVDA needs oleacc.AccessibleObjectFromPoint implementation for mouse tracking
  50370  Gothic 1 doesn't start correctly when screen resolution of the game matches display resolution
  50526  ConEmu wineconsole Ctrl+m has different behavior
  50714  YooSee CMS client 10.0.0.53 crashes after login since Wine 5.12 (ntdll built as PE)
  51163  WinOffice Pro 5.3 stops after splashscreen, needs WMI class SoftwareLicensingProduct
  51195  Lara Croft and the Temple of Osiris doesn't launch
  51220  version:info - In Wine the GetFileVersionInfoEx() checks fail in non-English locales
  51396  cl.exe 64bit fails with internal compiler error, needs support for separated code segments in vcruntime140_1
  51598  cmd.exe crashes on "if exist" without arguments
  51821  EVE Online Client Crashes Due to differences in how Wine and Windows handle LdrGetDllPath with dwFlags 0x8 and relative path
  51860  Missing include for uid_t on musl-based systems
  51864  VeraCrypt Installer for 1.24-Update7 (Win8+) fails with HRESULT 0x800288BD
  51911  vbscript does not handle strings in if clauses
  51938  Safe Exam Browser needs "DNSDomain" from Win32_NetworkAdapterConfiguration
  51959  Missing procedure GetDayLightFlag
  51968  Winaero WEI Tool: Crash due to C:\windows\performance\winsat\datastore missing
  51978  Autodesk Fusion 360 crashes on unimplemented function msvcp140.dll.?table@?$ctype@D@std@@QEBAPEBFXZ
  51983  foobar2000 v1.5.1+ crashes on startup with Wine v6.6+ with Windows version set to "Windows 10"
  52076  Wrong icons placement when using a theme
  52082  Ace Ventura (CD-ROM) crashes on start
  52102  outSPOKEN 3.0 demo crashes on unimplemented function krnl386.exe16.GetLPErrMode
  52141  NetAPI detection in configure is broken
  52173  Kodi crashes on unimplemented function wsdapi.dll.WSDCreateDiscoveryProvider
  52200  Yamizome Liberator (demo): In-game video isn't played.
  52220  TMIDI Player, Cherry: Playback with multiple MIDI ports is broken
  52224  inetmib1:main test times out in linux
  52298  Opening PPT with Freeoffice Presentations crashes on unimplemented function ole32.dll.OleConvertIStorageToOLESTREAMEx
  52327  Wrong WM_CONTEXTMENU message default  processing
  52349  Vortex Mod Manager Starts but Infinitely Loads
  52378  Python WMI module: AttributeError: wbemErrInvalidQuery
  52494  shell32 progman_dde tests crash if run immediately after prefix creation
  52583  ApiSetView does not display export ordinals correctly
  52626  MahjongSoul needs unimplemented function combase.dll.RoSetErrorReportingFlags

----------------------------------------------------------------

Changes since 6.0.3:

Akihiro Sagawa (1):
      quartz: Fix a race in IMediaFilter::Pause().

Alex Henrie (2):
      krnl386: Add GetLPErrMode stub.
      explorer: Only try to destroy the IShellWindows object if it exists.

Alexandre Julliard (3):
      configure: Fix the netapi check.
      krnl386.exe: Page-align the GlobalAlloc() size when the selector limit is in pages.
      user.exe: Make sure that the thunk selector doesn't get freed.

Bernhard Kölbl (1):
      oleaut32: Allow the registration of 64bit typelibs from a 32bit context.

Bernhard Übelacker (2):
      hhctrl.ocx: Handle only the number of bytes given in html_fragment_len.
      inetmib1: Fix endianess issue with dwLocalAddr and dwLocalPort.

Christian Costa (1):
      d3dx9: Also check for a valid alpha channel for TGA images.

Connor McAdams (2):
      oleacc: Implement AccessibleObjectFromEvent.
      winex11.drv: Add mutable pixel format awareness.

Derek Lesho (1):
      kernelbase: Fix parameter order of FindResourceExW call for non-localized path.

Doug Lyons (1):
      msvcrt: Do not acquire fd lock in msvcrt_create_io_inherit_block.

Eric Pouech (2):
      winedbg: Fix command line arguments parsing.
      cmd: Don't crash on 'if exist' without parameter.

Gabriel Ivăncescu (3):
      comctl32: Redraw children when the combo box is dropped down.
      user32: Redraw children when the combo box is dropped down.
      ddraw: Use WINED3D_SWAPCHAIN_NO_WINDOW_CHANGES only if window is not in foreground.

Gerald Pfeifer (1):
      configure: Diagnose if NetAPI is not present.

Hugh McMaster (1):
      conhost: Process Ctrl-M key input.

Huw D. M. Davies (1):
      user32: Set WM_CONTEXTMENU's wparam to the child window's handle.

Ismael Luceno (1):
      server: Fix missing include for uid_t.

Jacek Caban (1):
      ntdll: Fix handling \\.\CON path in RtlDosPathNameToNtPathName.

Jacek Konieczny (1):
      winealsa.drv: Use separate port for each output device.

Louis Lenders (5):
      wbemprox: Add empty DNSDomain to Win32_NetworkAdapterConfiguration.
      combase: Add stub for RoOriginateError.
      wsdapi: Add stub for WSDCreateDiscoveryProvider.
      wbemprox: Add some properties of SoftwareLicensingProduct class.
      ole32: Add stub for OleConvertIStorageToOLESTREAMEx.

Loïc Rebmeister (1):
      loader: Create performance\winsat\datastore on prefix creation.

Matteo Bruni (1):
      combase: Add RoSetErrorReportingFlags() stub.

Nick Fox (2):
      kernel32: Add tests for LdrGetDllPath with LOAD_WITH_ALTERED_SEARCH_PATH.
      ntdll: Fix LdrGetDllPath with LOAD_WITH_ALTERED_SEARCH_PATH without a path.

Nikolay Sivov (3):
      d3d11: Always initialize out view pointer in CreateRenderTargetView().
      include: Add WbemErrorEnum error codes.
      comctl32/listview: Initialize subitem text buffer before drawing each subitem.

Olivier F. R. Dierick (1):
      taskschd: Set count to zero in regtasks_get_Count stub.

Piotr Caban (5):
      msvcp100: Export ctype<char>::table function.
      oleacc: Add AccessibleObjectFromPoint implementation.
      msvcrt: Don't use GetDaylightFlag function in _ftime64.
      vcruntime140_1: Add support for exception separated code segments.
      ucrtbase: Add support for r-value demangling in unDName.

Robert Wilhelm (1):
      vbscript: Support VT_BSTR in stack_pop_bool.

Rémi Bernon (1):
      ntdll: Use the unrolled memset from msvcrt.

Thomas Faber (1):
      msvcrt/tests: Show that spawn does not require locking of fds.

Zebediah Figura (1):
      ntdll/tests: Add more tests for RtlDosPathNameToNtPathName_U().

Zhiyi Zhang (1):
      comctl32/button: Support image list margin for buttons with BS_CENTER or BS_VCENTER.

--
Michael Stefaniuc
mstefani@winehq.org
